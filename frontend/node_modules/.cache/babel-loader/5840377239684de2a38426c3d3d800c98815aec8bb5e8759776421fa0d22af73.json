{"ast":null,"code":"import{useNavigate,Link}from'react-router-dom';import{auth}from'../utils/auth';import AuthForm from'./AuthForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){var handleLogin=_ref.handleLogin,openInfoToolTip=_ref.openInfoToolTip,formData=_ref.formData;var navigate=useNavigate();function handleSubmit(evt){evt.preventDefault();auth.login(formData.values.email,formData.values.password).then(function(res){localStorage.setItem('jwt',res.token);formData.setValues({email:'',password:''});handleLogin();navigate('/',{replace:true});}).catch(function(error){openInfoToolTip('error','Неверный логин или пароль.');console.log(error);});}return/*#__PURE__*/_jsx(AuthForm,{handleSubmit:handleSubmit,formData:formData,headingText:'Вход',submitText:'Войти',children:/*#__PURE__*/_jsxs(\"p\",{className:\"auth__tip\",children:[\"\\u041D\\u0435\\u0442 \\u0443\\u0447\\u0435\\u0442\\u043D\\u043E\\u0439 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438? \",/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",className:\"auth__link\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]})});}export default Login;","map":{"version":3,"names":["useNavigate","Link","auth","AuthForm","Login","handleLogin","openInfoToolTip","formData","navigate","handleSubmit","evt","preventDefault","login","values","email","password","then","res","localStorage","setItem","token","setValues","replace","catch","error","console","log"],"sources":["/Users/uzornakovre/Desktop/WEBDEV/Обучение/Яндекс Практикум/Practice/dev/react-mesto-auth/src/components/Login.jsx"],"sourcesContent":["import { useNavigate, Link } from 'react-router-dom';\nimport { auth }              from '../utils/auth';\nimport AuthForm              from './AuthForm';\n\nfunction Login ({ handleLogin, openInfoToolTip, formData }) {\n\n  const navigate = useNavigate();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    auth.login(formData.values.email, formData.values.password)\n      .then((res) => {\n        localStorage.setItem('jwt', res.token);\n        formData.setValues({\n          email:    '',\n          password: ''\n        })\n        handleLogin();\n        navigate('/', {replace: true});\n      })\n      .catch((error) =>{\n        openInfoToolTip('error', 'Неверный логин или пароль.');\n        console.log(error);\n      })\n  }\n\n  return (\n    <AuthForm handleSubmit={handleSubmit}\n              formData={formData}\n              headingText={'Вход'}\n              submitText={'Войти'}\n    >\n      <p className=\"auth__tip\">\n        Нет учетной записи? {<Link to=\"/sign-up\" className=\"auth__link\">\n                                Зарегистрироваться\n                             </Link>}\n      </p>\n    </AuthForm>\n  );\n}\n\nexport default Login;"],"mappings":"AAAA,OAASA,WAAW,CAAEC,IAAI,KAAQ,kBAAkB,CACpD,OAASC,IAAI,KAAqB,eAAe,CACjD,MAAOC,SAAQ,KAAmB,YAAY,CAAC,wFAE/C,QAASC,MAAK,MAA8C,IAA1CC,YAAW,MAAXA,WAAW,CAAEC,eAAe,MAAfA,eAAe,CAAEC,QAAQ,MAARA,QAAQ,CAEtD,GAAMC,SAAQ,CAAGR,WAAW,EAAE,CAE9B,QAASS,aAAY,CAACC,GAAG,CAAE,CACzBA,GAAG,CAACC,cAAc,EAAE,CAEpBT,IAAI,CAACU,KAAK,CAACL,QAAQ,CAACM,MAAM,CAACC,KAAK,CAAEP,QAAQ,CAACM,MAAM,CAACE,QAAQ,CAAC,CACxDC,IAAI,CAAC,SAACC,GAAG,CAAK,CACbC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAEF,GAAG,CAACG,KAAK,CAAC,CACtCb,QAAQ,CAACc,SAAS,CAAC,CACjBP,KAAK,CAAK,EAAE,CACZC,QAAQ,CAAE,EACZ,CAAC,CAAC,CACFV,WAAW,EAAE,CACbG,QAAQ,CAAC,GAAG,CAAE,CAACc,OAAO,CAAE,IAAI,CAAC,CAAC,CAChC,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAI,CACflB,eAAe,CAAC,OAAO,CAAE,4BAA4B,CAAC,CACtDmB,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACpB,CAAC,CAAC,CACN,CAEA,mBACE,KAAC,QAAQ,EAAC,YAAY,CAAEf,YAAa,CAC3B,QAAQ,CAAEF,QAAS,CACnB,WAAW,CAAE,MAAO,CACpB,UAAU,CAAE,OAAQ,uBAE5B,WAAG,SAAS,CAAC,WAAW,WAAC,sGACH,cAAC,KAAC,IAAI,EAAC,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,YAAY,UAAC,8GAE3C,EAAO,GAC1B,EACK,CAEf,CAEA,cAAeH,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}