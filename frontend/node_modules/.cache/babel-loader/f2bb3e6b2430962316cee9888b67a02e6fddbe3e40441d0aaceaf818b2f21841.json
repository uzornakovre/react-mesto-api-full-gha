{"ast":null,"code":"import{Link,useNavigate}from'react-router-dom';import AuthForm from'./AuthForm';import{auth}from'../utils/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(_ref){var openInfoToolTip=_ref.openInfoToolTip,formData=_ref.formData;var navigate=useNavigate();function handleSubmit(evt){evt.preventDefault();if(formData.values.password===formData.values.passwordConfirm){auth.register(formData.values.email,formData.values.password).then(function(res){if(!res.error&&!res.message){openInfoToolTip('confirm','Вы успешно зарегистрировались');navigate('/sign-in',{replace:true});}else if(!res.error){openInfoToolTip('error','Вы ввели некорректный email. Попробуйте еще раз');}else{openInfoToolTip('error',res.error);}});}else openInfoToolTip('error','Пароли не совпадают. Попробуйте еще раз');}return/*#__PURE__*/_jsxs(AuthForm,{handleSubmit:handleSubmit,headingText:'Регистрация',submitText:'Зарегистрироваться',formData:formData,children:[/*#__PURE__*/_jsxs(\"p\",{className:\"auth__tip\",children:[\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \",/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",className:\"auth__link\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"passwordConfirm\",className:\"auth__input auth__input_type_password \".concat(formData.errors.password&&'auth__input_error'),placeholder:\"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",minLength:\"4\",maxLength:\"12\",onChange:formData.handleChange,value:formData.values.passwordConfirm||'',required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"auth__input-error\",children:formData.errors.passwordConfirm})]})]});}export default Register;","map":{"version":3,"names":["Link","useNavigate","AuthForm","auth","Register","openInfoToolTip","formData","navigate","handleSubmit","evt","preventDefault","values","password","passwordConfirm","register","email","then","res","error","message","replace","errors","handleChange"],"sources":["/Users/uzornakovre/Desktop/WEBDEV/Обучение/Яндекс Практикум/Practice/dev/react-mesto-auth/src/components/Register.jsx"],"sourcesContent":["import { Link, useNavigate } from 'react-router-dom';\nimport AuthForm              from './AuthForm';\nimport { auth }              from '../utils/auth';\n\nfunction Register({ openInfoToolTip, formData }) {\n\n  const navigate = useNavigate();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    if (formData.values.password === formData.values.passwordConfirm) {\n      auth.register(formData.values.email, formData.values.password)\n        .then((res) => {\n          if (!res.error && !res.message) {\n            openInfoToolTip('confirm', 'Вы успешно зарегистрировались');\n            navigate('/sign-in', {replace: true});\n          } else if (!res.error) {\n            openInfoToolTip('error', 'Вы ввели некорректный email. Попробуйте еще раз');\n          } else {\n            openInfoToolTip('error', res.error);\n          }\n        })\n    } else openInfoToolTip('error', 'Пароли не совпадают. Попробуйте еще раз')\n  }\n\n  return (\n    <AuthForm handleSubmit={handleSubmit}\n              headingText={'Регистрация'}\n              submitText={'Зарегистрироваться'}\n              formData={formData}\n    > \n      <p className=\"auth__tip\">\n        Уже зарегистрированы? {<Link to=\"/sign-in\" className=\"auth__link\">\n                                Войти\n                              </Link>}\n      </p>\n      <div>  \n        <input type=\"password\"\n               name=\"passwordConfirm\"\n               className={`auth__input auth__input_type_password ${\n                 formData.errors.password && 'auth__input_error'   \n               }`}\n               placeholder=\"Повторите пароль\"\n               minLength=\"4\"\n               maxLength=\"12\"\n               onChange={formData.handleChange}\n               value={formData.values.passwordConfirm || ''}\n               required\n        />\n        <span className=\"auth__input-error\">\n          {formData.errors.passwordConfirm}\n        </span>\n      </div>\n    </AuthForm>\n  );\n}\n\nexport default Register;"],"mappings":"AAAA,OAASA,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAOC,SAAQ,KAAmB,YAAY,CAC9C,OAASC,IAAI,KAAqB,eAAe,CAAC,wFAElD,QAASC,SAAQ,MAAgC,IAA7BC,gBAAe,MAAfA,eAAe,CAAEC,QAAQ,MAARA,QAAQ,CAE3C,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAE9B,QAASO,aAAY,CAACC,GAAG,CAAE,CACzBA,GAAG,CAACC,cAAc,EAAE,CAEpB,GAAIJ,QAAQ,CAACK,MAAM,CAACC,QAAQ,GAAKN,QAAQ,CAACK,MAAM,CAACE,eAAe,CAAE,CAChEV,IAAI,CAACW,QAAQ,CAACR,QAAQ,CAACK,MAAM,CAACI,KAAK,CAAET,QAAQ,CAACK,MAAM,CAACC,QAAQ,CAAC,CAC3DI,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,GAAI,CAACA,GAAG,CAACC,KAAK,EAAI,CAACD,GAAG,CAACE,OAAO,CAAE,CAC9Bd,eAAe,CAAC,SAAS,CAAE,+BAA+B,CAAC,CAC3DE,QAAQ,CAAC,UAAU,CAAE,CAACa,OAAO,CAAE,IAAI,CAAC,CAAC,CACvC,CAAC,IAAM,IAAI,CAACH,GAAG,CAACC,KAAK,CAAE,CACrBb,eAAe,CAAC,OAAO,CAAE,iDAAiD,CAAC,CAC7E,CAAC,IAAM,CACLA,eAAe,CAAC,OAAO,CAAEY,GAAG,CAACC,KAAK,CAAC,CACrC,CACF,CAAC,CAAC,CACN,CAAC,IAAMb,gBAAe,CAAC,OAAO,CAAE,yCAAyC,CAAC,CAC5E,CAEA,mBACE,MAAC,QAAQ,EAAC,YAAY,CAAEG,YAAa,CAC3B,WAAW,CAAE,aAAc,CAC3B,UAAU,CAAE,oBAAqB,CACjC,QAAQ,CAAEF,QAAS,wBAE3B,WAAG,SAAS,CAAC,WAAW,WAAC,uHACD,cAAC,KAAC,IAAI,EAAC,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,YAAY,UAAC,gCAE5C,EAAO,GAC3B,cACJ,oCACE,cAAO,IAAI,CAAC,UAAU,CACf,IAAI,CAAC,iBAAiB,CACtB,SAAS,iDACPA,QAAQ,CAACe,MAAM,CAACT,QAAQ,EAAI,mBAAmB,CAC9C,CACH,WAAW,CAAC,6FAAkB,CAC9B,SAAS,CAAC,GAAG,CACb,SAAS,CAAC,IAAI,CACd,QAAQ,CAAEN,QAAQ,CAACgB,YAAa,CAChC,KAAK,CAAEhB,QAAQ,CAACK,MAAM,CAACE,eAAe,EAAI,EAAG,CAC7C,QAAQ,OACb,cACF,aAAM,SAAS,CAAC,mBAAmB,UAChCP,QAAQ,CAACe,MAAM,CAACR,eAAe,EAC3B,GACH,GACG,CAEf,CAEA,cAAeT,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}