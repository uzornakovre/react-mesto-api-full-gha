{"ast":null,"code":"import{useContext,useEffect}from'react';import PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,formData=_ref.formData,onUpdateUser=_ref.onUpdateUser,isLoading=_ref.isLoading,onOverlayClick=_ref.onOverlayClick;var currentUser=useContext(CurrentUserContext);function handleSubmit(evt){evt.preventDefault();onUpdateUser({name:formData.values.name,about:formData.values.description});}useEffect(function(){formData.setValues({name:currentUser.name,description:currentUser.about});},[isOpen]);return/*#__PURE__*/_jsxs(PopupWithForm,{name:'edit-profile',title:'Редактировать профиль',isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,isValid:formData.isValid,onOverlayClick:onOverlayClick,buttonText:isLoading?'Сохранение...':'Сохранить',children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__form-input popup__form-input_content_name \".concat(formData.errors.name&&'popup__form-input_error'),id:\"name\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",value:formData.values.name||'',onChange:formData.handleChange,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-input-error popup__form-input-error_content_name\",children:formData.errors.name}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__form-input popup__form-input_content_job \".concat(formData.errors.description&&'popup__form-input_error'),id:\"job\",name:\"description\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",minLength:\"2\",maxLength:\"200\",value:formData.values.description||'',onChange:formData.handleChange,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-input-error popup__form-input-error_content_job\",children:formData.errors.description})]});}export default EditProfilePopup;","map":{"version":3,"names":["useContext","useEffect","PopupWithForm","CurrentUserContext","EditProfilePopup","isOpen","onClose","formData","onUpdateUser","isLoading","onOverlayClick","currentUser","handleSubmit","evt","preventDefault","name","values","about","description","setValues","isValid","errors","handleChange"],"sources":["/Users/uzornakovre/Desktop/WEBDEV/Обучение/Яндекс Практикум/Practice/dev/react-mesto-auth/src/components/EditProfilePopup.jsx"],"sourcesContent":["import { useContext,\n         useEffect }          from 'react';\nimport PopupWithForm          from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen,\n                            onClose,\n                            formData,\n                            onUpdateUser,\n                            isLoading,\n                            onOverlayClick }) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name:  formData.values.name,\n      about: formData.values.description\n    });\n  }\n \n  useEffect(() => {\n    formData.setValues({\n      name:        currentUser.name,\n      description: currentUser.about\n    })\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm name={'edit-profile'}\n                   title={'Редактировать профиль'}\n                   isOpen={isOpen}\n                   onClose={onClose}\n                   onSubmit={handleSubmit}\n                   isValid={formData.isValid}\n                   onOverlayClick={onOverlayClick}\n                   buttonText={isLoading ? 'Сохранение...' : 'Сохранить'}\n    >\n      <input type=\"text\"\n             className={`popup__form-input popup__form-input_content_name ${\n               formData.errors.name && 'popup__form-input_error'\n             }`}\n             id=\"name\"\n             name=\"name\"\n             placeholder=\"Имя\"\n             minLength=\"2\"\n             maxLength=\"40\"\n             value={formData.values.name || ''}\n             onChange={formData.handleChange}\n             required\n      />\n      <span className=\"popup__form-input-error popup__form-input-error_content_name\">\n        {formData.errors.name}\n      </span>\n      <input type=\"text\"\n             className={`popup__form-input popup__form-input_content_job ${\n               formData.errors.description && 'popup__form-input_error'\n             }`}\n             id=\"job\"\n             name=\"description\"\n             placeholder=\"Профессия\"\n             minLength=\"2\"\n             maxLength=\"200\"\n             value={formData.values.description || ''}\n             onChange={formData.handleChange}\n             required\n      />\n      <span className=\"popup__form-input-error popup__form-input-error_content_job\">\n        {formData.errors.description}\n      </span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;"],"mappings":"AAAA,OAASA,UAAU,CACVC,SAAS,KAAiB,OAAO,CAC1C,MAAOC,cAAa,KAAe,iBAAiB,CACpD,OAASC,kBAAkB,KAAQ,gCAAgC,CAAC,wFAEpE,QAASC,iBAAgB,MAKqB,IALlBC,OAAM,MAANA,MAAM,CACNC,OAAO,MAAPA,OAAO,CACPC,QAAQ,MAARA,QAAQ,CACRC,YAAY,MAAZA,YAAY,CACZC,SAAS,MAATA,SAAS,CACTC,cAAc,MAAdA,cAAc,CAExC,GAAMC,YAAW,CAAGX,UAAU,CAACG,kBAAkB,CAAC,CAElD,QAASS,aAAY,CAACC,GAAG,CAAE,CACzBA,GAAG,CAACC,cAAc,EAAE,CACpBN,YAAY,CAAC,CACXO,IAAI,CAAGR,QAAQ,CAACS,MAAM,CAACD,IAAI,CAC3BE,KAAK,CAAEV,QAAQ,CAACS,MAAM,CAACE,WACzB,CAAC,CAAC,CACJ,CAEAjB,SAAS,CAAC,UAAM,CACdM,QAAQ,CAACY,SAAS,CAAC,CACjBJ,IAAI,CAASJ,WAAW,CAACI,IAAI,CAC7BG,WAAW,CAAEP,WAAW,CAACM,KAC3B,CAAC,CAAC,CACJ,CAAC,CAAE,CAACZ,MAAM,CAAC,CAAC,CAEZ,mBACE,MAAC,aAAa,EAAC,IAAI,CAAE,cAAe,CACrB,KAAK,CAAE,uBAAwB,CAC/B,MAAM,CAAEA,MAAO,CACf,OAAO,CAAEC,OAAQ,CACjB,QAAQ,CAAEM,YAAa,CACvB,OAAO,CAAEL,QAAQ,CAACa,OAAQ,CAC1B,cAAc,CAAEV,cAAe,CAC/B,UAAU,CAAED,SAAS,CAAG,eAAe,CAAG,WAAY,wBAEnE,cAAO,IAAI,CAAC,MAAM,CACX,SAAS,4DACPF,QAAQ,CAACc,MAAM,CAACN,IAAI,EAAI,yBAAyB,CAChD,CACH,EAAE,CAAC,MAAM,CACT,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,oBAAK,CACjB,SAAS,CAAC,GAAG,CACb,SAAS,CAAC,IAAI,CACd,KAAK,CAAER,QAAQ,CAACS,MAAM,CAACD,IAAI,EAAI,EAAG,CAClC,QAAQ,CAAER,QAAQ,CAACe,YAAa,CAChC,QAAQ,OACb,cACF,aAAM,SAAS,CAAC,8DAA8D,UAC3Ef,QAAQ,CAACc,MAAM,CAACN,IAAI,EAChB,cACP,cAAO,IAAI,CAAC,MAAM,CACX,SAAS,2DACPR,QAAQ,CAACc,MAAM,CAACH,WAAW,EAAI,yBAAyB,CACvD,CACH,EAAE,CAAC,KAAK,CACR,IAAI,CAAC,aAAa,CAClB,WAAW,CAAC,wDAAW,CACvB,SAAS,CAAC,GAAG,CACb,SAAS,CAAC,KAAK,CACf,KAAK,CAAEX,QAAQ,CAACS,MAAM,CAACE,WAAW,EAAI,EAAG,CACzC,QAAQ,CAAEX,QAAQ,CAACe,YAAa,CAChC,QAAQ,OACb,cACF,aAAM,SAAS,CAAC,6DAA6D,UAC1Ef,QAAQ,CAACc,MAAM,CAACH,WAAW,EACvB,GACO,CAEpB,CAEA,cAAed,iBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}