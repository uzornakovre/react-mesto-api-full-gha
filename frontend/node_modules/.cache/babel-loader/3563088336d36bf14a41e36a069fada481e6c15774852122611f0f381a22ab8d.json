{"ast":null,"code":"var _jsxFileName = \"/Users/uzornakovre/Desktop/WEBDEV/\\u041E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435/\\u042F\\u043D\\u0434\\u0435\\u043A\\u0441 \\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/Practice/dev/react-mesto-auth/src/components/Login.jsx\",\n  _s = $RefreshSig$();\nimport { useNavigate } from 'react-router-dom';\nimport { auth } from '../utils/auth';\nimport AuthForm from './AuthForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login(_ref) {\n  _s();\n  let {\n    handleLogin,\n    openInfoToolTip,\n    formData\n  } = _ref;\n  const navigate = useNavigate();\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    auth.login(formData.values.email, formData.values.password).then(res => {\n      localStorage.setItem('jwt', res.token);\n      formData.setValues({\n        email: '',\n        password: ''\n      });\n      handleLogin();\n      navigate('/', {\n        replace: true\n      });\n    }).catch(error => {\n      openInfoToolTip('error', 'Неверный логин или пароль.');\n      console.log(error);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(AuthForm, {\n    handleSubmit: handleSubmit,\n    formData: formData,\n    headingText: 'Вход',\n    submitText: 'Войти',\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"auth__tip\",\n      children: [\"\\u041D\\u0435\\u0442 \\u0443\\u0447\\u0435\\u0442\\u043D\\u043E\\u0439 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/sign-in\",\n        className: \"auth__link\",\n        children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useNavigate","auth","AuthForm","Login","handleLogin","openInfoToolTip","formData","navigate","handleSubmit","evt","preventDefault","login","values","email","password","then","res","localStorage","setItem","token","setValues","replace","catch","error","console","log"],"sources":["/Users/uzornakovre/Desktop/WEBDEV/Обучение/Яндекс Практикум/Practice/dev/react-mesto-auth/src/components/Login.jsx"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\nimport { auth }        from '../utils/auth';\nimport AuthForm        from './AuthForm';\n\nfunction Login ({ handleLogin, openInfoToolTip, formData }) {\n\n  const navigate = useNavigate();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    auth.login(formData.values.email, formData.values.password)\n      .then((res) => {\n        localStorage.setItem('jwt', res.token);\n        formData.setValues({\n          email:    '',\n          password: ''\n        })\n        handleLogin();\n        navigate('/', {replace: true});\n      })\n      .catch((error) =>{\n        openInfoToolTip('error', 'Неверный логин или пароль.');\n        console.log(error);\n      })\n  }\n\n  return (\n    <AuthForm handleSubmit={handleSubmit}\n              formData={formData}\n              headingText={'Вход'}\n              submitText={'Войти'}\n    >\n      <p className=\"auth__tip\">\n        Нет учетной записи? {<Link to=\"/sign-in\" className=\"auth__link\">\n                                Зарегистрироваться\n                             </Link>}\n      </p>\n    </AuthForm>\n  );\n}\n\nexport default Login;"],"mappings":";;AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,IAAI,QAAe,eAAe;AAC3C,OAAOC,QAAQ,MAAa,YAAY;AAAC;AAEzC,SAASC,KAAK,OAA8C;EAAA;EAAA,IAA5C;IAAEC,WAAW;IAAEC,eAAe;IAAEC;EAAS,CAAC;EAExD,MAAMC,QAAQ,GAAGP,WAAW,EAAE;EAE9B,SAASQ,YAAY,CAACC,GAAG,EAAE;IACzBA,GAAG,CAACC,cAAc,EAAE;IAEpBT,IAAI,CAACU,KAAK,CAACL,QAAQ,CAACM,MAAM,CAACC,KAAK,EAAEP,QAAQ,CAACM,MAAM,CAACE,QAAQ,CAAC,CACxDC,IAAI,CAAEC,GAAG,IAAK;MACbC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEF,GAAG,CAACG,KAAK,CAAC;MACtCb,QAAQ,CAACc,SAAS,CAAC;QACjBP,KAAK,EAAK,EAAE;QACZC,QAAQ,EAAE;MACZ,CAAC,CAAC;MACFV,WAAW,EAAE;MACbG,QAAQ,CAAC,GAAG,EAAE;QAACc,OAAO,EAAE;MAAI,CAAC,CAAC;IAChC,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAI;MACflB,eAAe,CAAC,OAAO,EAAE,4BAA4B,CAAC;MACtDmB,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CAAC;EACN;EAEA,oBACE,QAAC,QAAQ;IAAC,YAAY,EAAEf,YAAa;IAC3B,QAAQ,EAAEF,QAAS;IACnB,WAAW,EAAE,MAAO;IACpB,UAAU,EAAE,OAAQ;IAAA,uBAE5B;MAAG,SAAS,EAAC,WAAW;MAAA,WAAC,sGACH,eAAC,QAAC,IAAI;QAAC,EAAE,EAAC,UAAU;QAAC,SAAS,EAAC,YAAY;QAAA,UAAC;MAE3C;QAAA;QAAA;QAAA;MAAA,QAAO;IAAA;MAAA;MAAA;MAAA;IAAA;EAC1B;IAAA;IAAA;IAAA;EAAA,QACK;AAEf;AAAC,GApCQH,KAAK;EAAA,QAEKH,WAAW;AAAA;AAAA,KAFrBG,KAAK;AAsCd,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}